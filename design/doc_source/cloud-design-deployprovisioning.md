# デプロイ・プロビジョニング

## 要件

## アプリケーションのデプロイ
アプリケーションのデプロイは Code シリーズ (CodeCommit, CodeDeploy, CodePipeline) を使用する。  
アプリケーションの実装にそった最適なパイプラインを構築する。  

以下に一例を示す。  

1. ソースコードは GitHub で管理
2. 修正したソースコードをプッシュ
3. CodePipeline がプッシュを検知、パイプラインを開始
4. CodeBuild でビルドを実施
5. CodeDeploy でデプロイに必要な処理は実施

## インフラのコード化
インフラの構築は CloudFormation or Terraform を使用してコード化する。  

全てをコード化する強制はしない。必要に応じてコード化と手作業を使い分ける。  

■ コード化するパターン

* 使いまわしたい
    * 同じ構成で複数環境を作りたい
* 再現性がほしい
    * テストを行うために作る消すを繰り返し行いたい
* 作業ミスを減らす
    * 検証環境で正常動作したコードを変更することなく本番環境でも実施すれば作業ミスを減らせる
    * 実行環境の整備とオペレーターのスキル習得が前提になる

■ 手作業のパターン

* IAM ユーザーの払い出し
    * 初期構築以降は手作業のほうが楽



